---
title: "Rmarkdown"
author: "me"
date: "2024-12-16"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Basic syntax and hot keys

<!-- comment me out with ctrl-shift-c -->

```{r}
my_string <- "hello world"
print(my_string)
x <- 9
y <- 15
z <- x + y
print(z)
# run the whole code chunk with ctrl + shift  + enter
```

## Data types and  R objects
- vectors
- lists
- matrices
- arrays
- factors
- data frames


### Vector
```{r}
# Logical TRUE, FALSE

v <- TRUE
print(class(v))

# Numeric 
v <- 23.9
print(class(v))

# Integer 2L, 34L, 0L
v <- 2L
print(class(v))


# complex  3 + 2i
v <- 2 + 5i
print(class(v))

# character 'a',  'good', 'TRUE'
v <- "TRUE"
print(class(v))

# raw "Hello" is stored as 48 65 6c 6c 6f
v <- charToRaw("Hello")
print(class(v))

##########################################
# Create a vector
apple <- c('red', 'green', 'yellow')
print(apple)

# Get the class of the vector
print(class(apple))
```


### List
A lists is an r-object that can contain many different types of elements inside it like vectors, functions and even other lists inside it.
```{r}
# Create a list
list1 <- list(c(2,5,3), 25.45, sin,TRUE)
print(list1)
print(class(list1))
```

### Matrices

A matrix is a two-dimensional rectangular data set. It can be created using a vector input to the matrix function

```{r}
#  Create a matrix
M <- matrix(c('a', 'a', 'b', 'c', 'b', 'a'), nrow <- 2, ncol <- 3, byrow <- TRUE)
print(M)
print(class(M))
```

### Arrays
```{r}
# create an array
a <- array(c('green',  'yellow'), dim <- c(3,3,2))
print(a)
print(class(a))
```


### Factors

Factors are the r-objects that are created using a vector. It stores the vector along with the distinct values of the elements in the vector as labels. The labels are always character irrespective of whether it is numeric or a character or Boolean etc. in the input vector. They are useful in statistical modelling

Factors are created using the `factor()` function. The `nlevels` function gives the count of levels

```{r}
# create a vector
apple_colors <- c('green', 'yellow', 'red', 'yellow', 'green', 'green', 'red','red')

# create a factor object
factor_apple <- factor(apple_colors)

# print the factor
print(factor_apple)
print(nlevels(factor_apple))
```

### Data Frames

Data frames are tabular data objects. Unlike a matrix in data frame each column can contain different modes of data. The first column can be numeric while the second column can be character and the third character can be logical. It is a list of vectors of equal length

Data Frames are created using the `data.frame()` function

```{r}
#  create a data frame
BMI <- data.frame(
  gender <- c('Male', 'Male', 'Female'),
  height <- c(152,171.5,165),
  weight <- c(81,99,68),
  age <- c(45,NA,12)
)
print(BMI)
```



## Get your data ito R

```{r}
install.packages("tidyverse") #installs

library(tidyverse) # imports
```

## Clean your data and re-shape it
Dplyr and the pipe %>% 
```{r}

mpg %>%  # built -in data-set in the tidyverse ecosystem which is car mileage per gallon
dplyr::filter(model == "a4") %>%  # return all rows that satisfy conditions

dplyr::arrange(displ, cty) %>%  # re-order your columns

dplyr::mutate(old = year < 2000, AWD = drv == 'f') %>%  # add new preserve old

# dplyr::transmute(AWD = drv == 'f') # add new drop old

dplyr::select(-drv) # keep or remove columns

mpg %>%  
dplyr::count(model, sort = T) # create aggregate stats

```












## Make some graphics
```{r}
# ggplot(data = <DATA>) + 
# <GEOM_FUNCTION>(mapping = aes(<MAPPINGS>))

# ggplot is just an empty canvas
# geom_point is just a scatter-plot with a bunch of points on it
# you map the aesthetic(aes), which is just an x and y axis to the scatter-plot chart

ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy))

ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy, color = class))

ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy, color = class)) + facet_wrap(~ class, nrow = 2)

ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy, color = class)) + facet_grid(drv ~ cyl)

ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy))

ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy)) + geom_smooth(mapping = aes(x = displ, y = hwy))

ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + geom_point(mapping = aes(color = class)) + geom_smooth()

ggplot(data = diamonds) + geom_bar(mapping = aes(x=cut)) 
```